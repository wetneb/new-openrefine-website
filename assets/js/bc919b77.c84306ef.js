"use strict";(self.webpackChunkOpenRefine_Documentation=self.webpackChunkOpenRefine_Documentation||[]).push([[7413],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>p});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=i.createContext({}),c=function(e){var t=i.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=c(e.components);return i.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=c(n),p=a,h=u["".concat(o,".").concat(p)]||u[p]||d[p]||r;return n?i.createElement(h,l(l({ref:t},m),{},{components:n})):i.createElement(h,l({ref:t},m))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var c=2;c<r;c++)l[c]=n[c];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4889:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var i=n(7462),a=n(3366),r=(n(7294),n(3905)),l=["components"],s={id:"new-entities",title:"Creating new items",sidebar_label:"New items"},o=void 0,c={unversionedId:"manual/wikibase/new-entities",id:"manual/wikibase/new-entities",title:"Creating new items",description:"OpenRefine can create new items. This page explains how they are",source:"@site/docs/manual/wikibase/new-entities.md",sourceDirName:"manual/wikibase",slug:"/manual/wikibase/new-entities",permalink:"/new-openrefine-website/docs/next/manual/wikibase/new-entities",draft:!1,editUrl:"https://github.com/OpenRefine/OpenRefine/edit/master/docs/docs/manual/wikibase/new-entities.md",tags:[],version:"current",lastUpdatedBy:"Antonin Delpeuch",lastUpdatedAt:1662887291,formattedLastUpdatedAt:"Sep 11, 2022",frontMatter:{id:"new-entities",title:"Creating new items",sidebar_label:"New items"},sidebar:"docs",previous:{title:"Schema alignment",permalink:"/new-openrefine-website/docs/next/manual/wikibase/schema-alignment"},next:{title:"Quality assurance",permalink:"/new-openrefine-website/docs/next/manual/wikibase/quality-assurance"}},m={},d=[{value:"Words of caution",id:"words-of-caution",level:2},{value:"Workflow overview",id:"workflow-overview",level:2},{value:"Adding labels to new items",id:"adding-labels-to-new-items",level:2},{value:"Marking multiple cells as identical items",id:"marking-multiple-cells-as-identical-items",level:2},{value:"Retrieving the Qids of the newly-created items",id:"retrieving-the-qids-of-the-newly-created-items",level:2}],u={toc:d};function p(e){var t=e.components,n=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"OpenRefine can create new items. This page explains how they are\ngenerated."),(0,r.kt)("h2",{id:"words-of-caution"},"Words of caution"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The fact that OpenRefine does not propose any item when reconciling\na cell does not mean that the item is not present in the Wikibase instance:\nit can be missed for all sorts of reasons. Please make\nsure that you are not creating any duplicates!")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Make sure that the items that you want to create are admissible in\nthe Wikibase instance. For Wikidata, see the ",(0,r.kt)("a",{parentName:"p",href:"https://www.wikidata.org/wiki/Wikidata:Notability"},"notability guidelines"),";")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Deleting items generally requires special rights: if you want to revert an\nedit group that includes new items in Wikidata, you will need to ask an\nadministrator to do it."))),(0,r.kt)("h2",{id:"workflow-overview"},"Workflow overview"),(0,r.kt)("p",null,"Here is how you would typically create new items with OpenRefine:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Reconcile a column;"),(0,r.kt)("li",{parentName:"ul"},"Mark some of its cells as new items. This will not create items yet.\nIf you need to mark many rows as new items, use the ",(0,r.kt)("strong",{parentName:"li"},"Reconcile")," \u2192\n",(0,r.kt)("strong",{parentName:"li"},"Actions")," \u2192 ",(0,r.kt)("strong",{parentName:"li"},"Create a new item for each cell")," operation."),(0,r.kt)("li",{parentName:"ul"},"Create a Wikibase schema as usual, using the column where your new\nitems are marked;"),(0,r.kt)("li",{parentName:"ul"},"Perform the edits: the new items will be created on Wikidata at this\npoint;"),(0,r.kt)("li",{parentName:"ul"},"The cells that you had marked as new items will now be reconciled to\nthe newly-created items.")),(0,r.kt)("p",null,"It is often useful (but not mandatory) to treat new items in isolation\nand use a dedicated schema for them. This helps you add many statements\non the new items (including labels and descriptions) without risking to\nclutter existing items with redundant edits. Use a facet on the judgment\nstatus of the reconciled column to isolate new items and perform their\nedits separately. As always in OpenRefine, only the rows covered by your\nfacets will be considered when uploading the edits to Wikidata: if a\ncell is reconciled to a new item but is excluded by the facet, no new\nitem will be created for it.",(0,r.kt)("sup",{parentName:"p",id:"fnref-1"},(0,r.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))),(0,r.kt)("p",null,'Note that even if you know that all items in your column are new, you\nwill still need to make a first reconciliation pass by selecting the\nWikidata reconciliation service, and then setting all reconciliation\nstatuses to \\"new\\". If you skip the first part, OpenRefine will not\nknow that this column is reconciled against your Wikibase instance (it could be\nreconciled to other services) so it will not let you use it in place of\nan item in a Wikibase schema.'),(0,r.kt)("p",null,"You can also perform the edits with QuickStatements - in this case, your\nOpenRefine project will not be updated with the newly created Qids."),(0,r.kt)("h2",{id:"adding-labels-to-new-items"},"Adding labels to new items"),(0,r.kt)("p",null,'The text that is in a cell reconciled to \\"new\\" is not automatically\nused as label for the newly-created item. This is because OpenRefine has\nno way to guess in which language this label should be. When adding new\nitems, you need to explicitly add a label in the schema. This label can\nuse the reconciled column as source, but if you have other cells matched\nto existing items, be careful not to override the labels of these items\n(if it is not your intention).'),(0,r.kt)("p",null,"OpenRefine will refuse to perform edits where new items are created\nwithout any labels (as this is considered a critical issue). Other\nissues will be raised if insufficient basic information is added on the\nitems (but these other warnings will not prevent you from performing the\nedits)."),(0,r.kt)("h2",{id:"marking-multiple-cells-as-identical-items"},"Marking multiple cells as identical items"),(0,r.kt)("p",null,"If you mark individual cells as new items, one new item per cell will be\ncreated. Sometimes multiple rows refer to the same item. OpenRefine\nmakes it possible to mark all the corresponding cells as the ",(0,r.kt)("em",{parentName:"p"},"same")," new\nitem. Two conditions have to be met:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"the reconciled cells must be in the same column (it is not possible\nto mark two cells in different colums as the same new item);"),(0,r.kt)("li",{parentName:"ul"},"the cells must contain the same initial text value.")),(0,r.kt)("p",null,"If these two conditions are met, then isolate these cells with facets\nand go to ",(0,r.kt)("strong",{parentName:"p"},"Reconcile")," \u2192 ",(0,r.kt)("strong",{parentName:"p"},"Actions")," \u2192 ",(0,r.kt)("strong",{parentName:"p"},"Create one item for similar\ncells"),". This will mark the cells as new and referring to the same item."),(0,r.kt)("h2",{id:"retrieving-the-qids-of-the-newly-created-items"},"Retrieving the Qids of the newly-created items"),(0,r.kt)("p",null,"Once you have performed your edits with OpenRefine, any new cells\ncovered by the facet will be updated with their new Qids. You can\nretrieve these Qids with the ",(0,r.kt)("strong",{parentName:"p"},"Edit column")," \u2192 ",(0,r.kt)("strong",{parentName:"p"},"Add column based on\nthis column")," action and using the ",(0,r.kt)("inlineCode",{parentName:"p"},"cell.recon.match.id")," expression.\nNote that you will no longer be able to isolate new items with a\njudgment facet at this stage (because the judgment will be updated to\n",(0,r.kt)("strong",{parentName:"p"},"matched"),") so it can be worth marking these rows (for instance with a\nstar or flag) before performing the edits."),(0,r.kt)("div",{className:"footnotes"},(0,r.kt)("hr",{parentName:"div"}),(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol",id:"fn-1"},"The only exception to this rule is when marking multiple cells as\nidentical items: in this case, if one of such cells are included in\nthe facet, then all the others will be updated with the newly\ncreated Qid once the edits are made.",(0,r.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")))))}p.isMDXComponent=!0}}]);